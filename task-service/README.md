# Task Service

## üìã –û–±–∑–æ—Ä

**Task Service** –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –≤ —Å–∏—Å—Ç–µ–º–µ. –≠—Ç–æ RESTful –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª CRUD (Create, Read, Update, Delete) –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∑–∞–¥–∞—á–∞–º–∏.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
*   –°–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á.
*   –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á (–ø–æ —Å—Ç–∞—Ç—É—Å—É, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É).
*   –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
*   –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö.
*   –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –∑–∞–¥–∞—á–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (User ID).

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

*   **–Ø–∑—ã–∫:** Go 1.21+
*   **Web Framework:** [Gin Gonic](https://github.com/gin-gonic/gin)
*   **Database:** PostgreSQL (Driver: `pgx` via GORM)
*   **ORM:** [GORM](https://gorm.io/)

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```bash
# –ü–æ—Ä—Ç –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
PORT=8082

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
DB_URL=postgres://postgres:password@postgres:5432/taskmanager?sslmode=disable
```

---

## üíæ –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö

–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ö–µ–º—É `task_schema` –≤ PostgreSQL.

### –¢–∞–±–ª–∏—Ü–∞ `tasks`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è) |
| `title` | VARCHAR(255) | –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `description` | TEXT | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `status` | VARCHAR(50) | –°—Ç–∞—Ç—É—Å (—Å–º. –Ω–∏–∂–µ) |
| `priority` | VARCHAR(50) | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Å–º. –Ω–∏–∂–µ) |
| `due_date` | TIMESTAMP | –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `created_by` | UUID | ID —Å–æ–∑–¥–∞—Ç–µ–ª—è (—Å—Å—ã–ª–∫–∞ –Ω–∞ User Service) |
| `created_at`| TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |

**–ò–Ω–¥–µ–∫—Å—ã** —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –ø–æ–ª–µ–π: `created_by`, `status`, `priority`, `due_date`.

---

## üîå API Endpoints

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Authorization`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ API Gateway. –•–æ—Ç—è —Å–∞–º Task Service –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å JWT (—ç—Ç–æ –¥–µ–ª–∞–µ—Ç Gateway/Auth Service), –æ–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç `user_id` –∏–∑ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞.

### 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
`GET /tasks`

**Query –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
*   `status`: –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (–Ω–∞–ø—Ä. `pending`)
*   `priority`: –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (–Ω–∞–ø—Ä. `high`)
*   `page`: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
*   `limit`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)

**–ü—Ä–∏–º–µ—Ä:** `GET /tasks?status=in_progress&priority=high&page=1&limit=5`

### 2. –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
`POST /tasks`

**Body:**
```json
{
  "title": "Fix critical bug",
  "description": "Error in production...",
  "priority": "urgent",
  "due_date": "2024-12-31T23:59:59Z"
}
```

### 3. –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
`GET /tasks/:id`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞—á—É, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### 4. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
`PUT /tasks/:id`

–ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –∑–∞–¥–∞—á–∏.

**Body:**
```json
{
  "title": "New Title",
  "description": "Updated desc",
  "status": "in_progress",
  "priority": "medium"
}
```

### 5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
`PATCH /tasks/:id/status`

–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞.

**Body:**
```json
{
  "status": "completed"
}
```

### 6. –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
`DELETE /tasks/:id`

---

## üìä –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –°—Ç–∞—Ç—É—Å—ã (`status`)
*   `pending` (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
*   `in_progress`
*   `completed`
*   `cancelled`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (`priority`)
*   `low`
*   `medium` (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
*   `high`
*   `urgent`

---

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ
```bash
go mod download
go run main.go
```

### Docker
–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `task-service` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ Docker –ø–æ –ø–æ—Ä—Ç—É `8082`.
